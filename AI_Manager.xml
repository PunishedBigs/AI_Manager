<Ui xmlns="http://www.blizzard.com/wow/ui/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.blizzard.com/wow/ui/ ..\FrameXML\UI.xsd">
    <Script file="AI_Manager.lua"/>

    <!-- Main Frame -->
    <Frame name="AIManagerFrame" parent="UIParent" movable="true" enableMouse="true" hidden="true" clampedToScreen="true">
        <Size x="750" y="550"/>
        <Anchors><Anchor point="CENTER"/></Anchors>
        <Backdrop bgFile="Interface\DialogFrame\UI-DialogBox-Background" edgeFile="Interface\DialogFrame\UI-DialogBox-Border" tile="true">
            <BackgroundInsets left="11" right="12" top="12" bottom="11"/>
            <TileSize val="32"/><EdgeSize val="32"/>
        </Backdrop>
        <Layers>
            <Layer level="ARTWORK">
                <Texture name="$parentTitle" file="Interface\DialogFrame\UI-DialogBox-Header">
                    <Size x="300" y="64"/><Anchors><Anchor point="TOP" x="0" y="12"/></Anchors>
                </Texture>
                <FontString name="$parentTitleText" inherits="GameFontNormal" text="AI Manager">
                    <Anchors><Anchor point="TOP" relativeTo="$parentTitle" x="0" y="-14"/></Anchors>
                </FontString>
            </Layer>
        </Layers>
        <Frames>
            <!-- Close Button -->
            <Button name="$parentCloseButton" inherits="UIPanelCloseButton">
                <Anchors><Anchor point="TOPRIGHT" x="-3" y="-3"/></Anchors>
            </Button>

            <!-- Menu Bar -->
            <Frame name="AIManagerMenuFrame">
                <Size x="150" y="485"/>
                <Anchors><Anchor point="TOPLEFT" x="16" y="-40"/></Anchors>
                <Backdrop bgFile="Interface\Tooltips\UI-Tooltip-Background" tile="true">
                    <Color r="0.05" g="0.05" b="0.05" a="0.9"/>
                </Backdrop>
                <Frames>
                    <Button name="AIManagerMenuButton1" text="Network">
                        <Size x="130" y="25"/>
                        <Anchors><Anchor point="TOPLEFT" x="10" y="-40"/></Anchors>
                        <ButtonText justifyH="LEFT"><Anchors><Anchor point="LEFT" x="5" y="0"/></Anchors></ButtonText>
                        <NormalFont style="GameFontNormalLarge"/>
                        <HighlightFont style="GameFontNormalLarge"/>
                        <HighlightTexture file="Interface\QuestFrame\UI-QuestTitleHighlight" alphaMode="ADD"/>
                        <Scripts><OnClick>AIManager_MenuButton_OnClick(AIManagerMenuButton1)</OnClick></Scripts>
                    </Button>
                    <Button name="AIManagerMenuButton2" text="Format">
                        <Size x="130" y="25"/>
                        <Anchors><Anchor point="TOPLEFT" relativeTo="AIManagerMenuButton1" relativePoint="BOTTOMLEFT" x="0" y="-10"/></Anchors>
                        <ButtonText justifyH="LEFT"><Anchors><Anchor point="LEFT" x="5" y="0"/></Anchors></ButtonText>
                        <NormalFont style="GameFontNormalLarge"/>
                        <HighlightFont style="GameFontNormalLarge"/>
                        <HighlightTexture file="Interface\QuestFrame\UI-QuestTitleHighlight" alphaMode="ADD"/>
                        <Scripts><OnClick>AIManager_MenuButton_OnClick(AIManagerMenuButton2)</OnClick></Scripts>
                    </Button>
                    <Button name="AIManagerMenuButton3" text="Samplers">
                        <Size x="130" y="25"/>
                        <Anchors><Anchor point="TOPLEFT" relativeTo="AIManagerMenuButton2" relativePoint="BOTTOMLEFT" x="0" y="-10"/></Anchors>
                        <ButtonText justifyH="LEFT"><Anchors><Anchor point="LEFT" x="5" y="0"/></Anchors></ButtonText>
                        <NormalFont style="GameFontNormalLarge"/>
                        <HighlightFont style="GameFontNormalLarge"/>
                        <HighlightTexture file="Interface\QuestFrame\UI-QuestTitleHighlight" alphaMode="ADD"/>
                        <Scripts><OnClick>AIManager_MenuButton_OnClick(AIManagerMenuButton3)</OnClick></Scripts>
                    </Button>
                    <Button name="AIManagerMenuButton4" text="Characters">
                        <Size x="130" y="25"/>
                        <Anchors><Anchor point="TOPLEFT" relativeTo="AIManagerMenuButton3" relativePoint="BOTTOMLEFT" x="0" y="-10"/></Anchors>
                        <ButtonText justifyH="LEFT"><Anchors><Anchor point="LEFT" x="5" y="0"/></Anchors></ButtonText>
                        <NormalFont style="GameFontNormalLarge"/>
                        <HighlightFont style="GameFontNormalLarge"/>
                        <HighlightTexture file="Interface\QuestFrame\UI-QuestTitleHighlight" alphaMode="ADD"/>
                        <Scripts><OnClick>AIManager_MenuButton_OnClick(AIManagerMenuButton4)</OnClick></Scripts>
                    </Button>
                </Frames>
                <Layers>
                    <Layer level="OVERLAY">
                        <FontString name="$parentTitle" inherits="GameFontNormalLarge" text="Settings">
                            <Anchors><Anchor point="TOP" x="0" y="-10"/></Anchors>
                        </FontString>
                    </Layer>
                </Layers>
            </Frame>

            <!-- Main Content Area -->
            <Frame name="AIManagerContentFrame">
                <Size x="560" y="510"/>
                <Anchors><Anchor point="TOPLEFT" relativeTo="AIManagerMenuFrame" relativePoint="TOPRIGHT" x="5" y="0"/></Anchors>
                <Frames>
                    <!-- Network Page -->
                    <Frame name="AIManagerNetworkPage" setAllPoints="true" hidden="true">
                        <Layers>
                            <Layer level="ARTWORK">
                                <!-- NEW: Label with a fixed position -->
                                <FontString name="AIManagerNetworkLabel" inherits="GameFontNormal" text="Host IP:Port">
                                    <Anchors>
                                        <Anchor point="TOPLEFT" x="50" y="-87"/>
                                    </Anchors>
                                </FontString>
                            </Layer>
                        </Layers>
                        <Frames>
                            <!-- Status Indicator -->
                            <Frame name="AIManagerStatusIndicator">
                                <Size x="200" y="40"/>
                                <Anchors><Anchor point="TOP" x="0" y="-20"/></Anchors>
                                <Layers>
                                    <Layer level="BACKGROUND">
                                        <Texture name="$parentCircle" file="Interface\Buttons\WHITE8X8">
                                            <Size x="24" y="24"/><Anchors><Anchor point="LEFT"/></Anchors>
                                        </Texture>
                                    </Layer>
                                    <Layer level="ARTWORK">
                                        <FontString name="$parentText" inherits="GameFontNormalLarge" text="Unknown">
                                            <Anchors><Anchor point="LEFT" x="30" y="0"/></Anchors>
                                        </FontString>
                                    </Layer>
                                </Layers>
                            </Frame>
                            <!-- IP Address (now anchored to the label) -->
                            <EditBox name="AIManagerNetworkIPBox" inherits="InputBoxTemplate" autoFocus="false">
                                <Size x="200" y="32"/>
                                <Anchors>
                                    <Anchor point="LEFT" relativeTo="AIManagerNetworkLabel" relativePoint="RIGHT" x="10" y="0"/>
                                </Anchors>
                                <Scripts><OnEnterPressed>self:ClearFocus()</OnEnterPressed></Scripts>
                            </EditBox>
                            <!-- Port (anchored to IP box) -->
                            <EditBox name="AIManagerNetworkPortBox" inherits="InputBoxTemplate" autoFocus="false" numeric="true">
                                <Size x="80" y="32"/>
                                <Anchors>
                                    <Anchor point="LEFT" relativeTo="AIManagerNetworkIPBox" relativePoint="RIGHT" x="10" y="0"/>
                                </Anchors>
                                <Scripts><OnEnterPressed>self:ClearFocus()</OnEnterPressed></Scripts>
                            </EditBox>
                            <!-- Save Button -->
                            <Button name="AIManagerNetworkSaveButton" inherits="UIPanelButtonTemplate" text="Save">
                                <Size x="100" y="25"/>
                                <Anchors><Anchor point="BOTTOM" x="0" y="20"/></Anchors>
                                <Scripts><OnClick>AIManager_SaveChanges()</OnClick></Scripts>
                            </Button>
                        </Frames>
                    </Frame>

                    <!-- Other Pages -->
                    <Frame name="AIManagerFormatPage" setAllPoints="true" hidden="true"/>
                    <Frame name="AIManagerSamplersPage" setAllPoints="true" hidden="true"/>
                    <Frame name="AIManagerCharactersPage" setAllPoints="true" hidden="true"/>
                </Frames>
            </Frame>
            
            <!-- Refresh Button -->
            <Button name="AIManagerRefreshButton" inherits="UIPanelButtonTemplate" text="Refresh">
                <Size x="100" y="25"/>
                <Anchors><Anchor point="BOTTOMLEFT" relativeTo="AIManagerMenuFrame" x="25" y="10"/></Anchors>
                <Scripts><OnClick>AIManager_RequestConfig()</OnClick></Scripts>
            </Button>

        </Frames>
        <Scripts>
            <OnLoad>AIManager_OnLoad(self)</OnLoad>
            <OnShow>AIManager_OnShow()</OnShow>
            <OnHide>AIManager_OnHide()</OnHide>
            <OnDragStart>self:StartMoving()</OnDragStart>
            <OnDragStop>self:StopMovingOrSizing()</OnDragStop>
        </Scripts>
    </Frame>
</Ui>
